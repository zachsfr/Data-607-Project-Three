#build ds_skills_df dataframe#
ds_skills_df <- document_term %>%
select(ds_skills_in_document_term$ds_skills_list)
#tidy ds_skills_df#
ds_skills_df <- rownames_to_column(ds_skills_df)
ds_skills_df <- rename(ds_skills_df, "listing" = "rowname")
ds_skills_df <- ds_skills_df %>%
mutate("listing" = substr(listing,0,nchar(listing)-4))
View(ds_skills_df)
g punctuation.
#This script takes atlanta, a folder of txt job descriptions for data scientists. It generates ds_skills_df, a dataframe. ds_skills_df has 1 row for each job listing in atlanta, and one column for each term in ds_skills_list. The value in each cell is the number of appearances of the column name in the listing.
library(tidyverse)
library(tm)
atlanta <- "C:/Users/dmosc/OneDrive/Documents/academic/CUNY SPS/DATA 607/Proj3/zachsfr project three/Data-607-Project-Three/atlanta"
find <- c("computer science","data engineering","deep learning","machine learning","neural networks","project management","[[:space:]][Rr][^[[:alnum:]]","scikit-learn","software development","software engineering")
repl <- c("computerscience","dataengineering","deeplearning","machinelearning","neuralnetworks","projectmanagement"," r ","scikitlearn","softwaredevelopment","softwareengineering")
ds_skills_list <- c("ai","analysis","aws","azure","c","caffe","cassandra","communication","computerscience","cplusplus","csharp","d3","dataengineering","deeplearning","docker","excel","git","hadoop","hbase","hive","java","javascript","keras","linux","machinelearning","mathematics","matlab","mongodb","mysql","neuralnetworks","nlp","nosql","numpy","pandas","perl","pig","projectmanagement","python","pytorch"," r ","sas","scala","scikitlearn","softwaredevelopment","softwareengineering","spark","spss","sql","statistics","tableau","tensorflow","visualization")
#Create corpus from Atlanta files#
atlanta_corpus <- VCorpus(DirSource(atlanta, encoding = "UTF-8"), readerControl = list(language = "en"))
#transform corpus#
atlanta_corpus <- tm_map(atlanta_corpus, removeWords, stopwords("english"))
atlanta_corpus <- tm_map(atlanta_corpus, stripWhitespace)
atlanta_corpus <- tm_map(atlanta_corpus, content_transformer(tolower))
#atlanta_corpus <- tm_map(atlanta_corpus, removePunctuation) so I can detect C#, C++
for (i in seq(length(find))) {
atlanta_corpus <- tm_map(atlanta_corpus, content_transformer(function(atlanta_corpus) gsub(atlanta_corpus, pattern = find[i], replacement = repl[i])))
}
atlanta_corpus <- tm_map(atlanta_corpus, removePunctuation) ###########
#build document_term dataframe#
document_term <- DocumentTermMatrix(atlanta_corpus)
document_term <- document_term %>%
as.matrix() %>%
as.data.frame()
#Find members of ds_skills_list in colnames(document_term)#
##PROBLEM: R is not in colnames(document_term)
ds_skills_in_document_term <- cbind(ds_skills_list, ds_skills_list %in% colnames(document_term))
ds_skills_in_document_term <- as.data.frame(ds_skills_in_document_term)
ds_skills_in_document_term <- ds_skills_in_document_term %>%
filter(V2 == "TRUE")
#build ds_skills_df dataframe#
ds_skills_df <- document_term %>%
select(ds_skills_in_document_term$ds_skills_list)
#tidy ds_skills_df#
ds_skills_df <- rownames_to_column(ds_skills_df)
ds_skills_df <- rename(ds_skills_df, "listing" = "rowname")
ds_skills_df <- ds_skills_df %>%
mutate("listing" = substr(listing,0,nchar(listing)-4))
after removing punctuation.
#This script takes atlanta, a folder of txt job descriptions for data scientists. It generates ds_skills_df, a dataframe. ds_skills_df has 1 row for each job listing in atlanta, and one column for each term in ds_skills_list. The value in each cell is the number of appearances of the column name in the listing.
library(tidyverse)
library(tm)
atlanta <- "C:/Users/dmosc/OneDrive/Documents/academic/CUNY SPS/DATA 607/Proj3/zachsfr project three/Data-607-Project-Three/atlanta"
find <- c("computer science","data engineering","deep learning","machine learning","neural networks","project management","[[:space:]][Rr][^[[:alnum:]]","scikit-learn","software development","software engineering")
repl <- c("computerscience","dataengineering","deeplearning","machinelearning","neuralnetworks","projectmanagement"," r ","scikitlearn","softwaredevelopment","softwareengineering")
ds_skills_list <- c("ai","analysis","aws","azure","c","caffe","cassandra","communication","computerscience","cplusplus","csharp","d3","dataengineering","deeplearning","docker","excel","git","hadoop","hbase","hive","java","javascript","keras","linux","machinelearning","mathematics","matlab","mongodb","mysql","neuralnetworks","nlp","nosql","numpy","pandas","perl","pig","projectmanagement","python","pytorch","r","sas","scala","scikitlearn","softwaredevelopment","softwareengineering","spark","spss","sql","statistics","tableau","tensorflow","visualization")
#Create corpus from Atlanta files#
atlanta_corpus <- VCorpus(DirSource(atlanta, encoding = "UTF-8"), readerControl = list(language = "en"))
#transform corpus#
atlanta_corpus <- tm_map(atlanta_corpus, removeWords, stopwords("english"))
atlanta_corpus <- tm_map(atlanta_corpus, stripWhitespace)
atlanta_corpus <- tm_map(atlanta_corpus, content_transformer(tolower))
#atlanta_corpus <- tm_map(atlanta_corpus, removePunctuation) so I can detect C#, C++
for (i in seq(length(find))) {
atlanta_corpus <- tm_map(atlanta_corpus, content_transformer(function(atlanta_corpus) gsub(atlanta_corpus, pattern = find[i], replacement = repl[i])))
}
atlanta_corpus <- tm_map(atlanta_corpus, removePunctuation) ###########
#build document_term dataframe#
document_term <- DocumentTermMatrix(atlanta_corpus)
document_term <- document_term %>%
as.matrix() %>%
as.data.frame()
#Find members of ds_skills_list in colnames(document_term)#
##PROBLEM: R is not in colnames(document_term)
ds_skills_in_document_term <- cbind(ds_skills_list, ds_skills_list %in% colnames(document_term))
ds_skills_in_document_term <- as.data.frame(ds_skills_in_document_term)
ds_skills_in_document_term <- ds_skills_in_document_term %>%
filter(V2 == "TRUE")
#build ds_skills_df dataframe#
ds_skills_df <- document_term %>%
select(ds_skills_in_document_term$ds_skills_list)
#tidy ds_skills_df#
ds_skills_df <- rownames_to_column(ds_skills_df)
ds_skills_df <- rename(ds_skills_df, "listing" = "rowname")
ds_skills_df <- ds_skills_df %>%
mutate("listing" = substr(listing,0,nchar(listing)-4))
####
View(ds_skills_df)
atlanta <- "C:/Users/dmosc/OneDrive/Documents/academic/CUNY SPS/DATA 607/Proj3/zachsfr project three/Data-607-Project-Three/atlanta"
find <- c("computer science","data engineering","deep learning","machine learning","neural networks","project management","[[:space:]][Rr][^[[:alnum:]]","scikit-learn","software development","software engineering")
repl <- c("computerscience","dataengineering","deeplearning","machinelearning","neuralnetworks","projectmanagement","rrrr","scikitlearn","softwaredevelopment","softwareengineering")
ds_skills_list <- c("ai","analysis","aws","azure","c","caffe","cassandra","communication","computerscience","cplusplus","csharp","d3","dataengineering","deeplearning","docker","excel","git","hadoop","hbase","hive","java","javascript","keras","linux","machinelearning","mathematics","matlab","mongodb","mysql","neuralnetworks","nlp","nosql","numpy","pandas","perl","pig","projectmanagement","python","pytorch","rrrr","sas","scala","scikitlearn","softwaredevelopment","softwareengineering","spark","spss","sql","statistics","tableau","tensorflow","visualization")
#Create corpus from Atlanta files#
atlanta_corpus <- VCorpus(DirSource(atlanta, encoding = "UTF-8"), readerControl = list(language = "en"))
#transform corpus#
atlanta_corpus <- tm_map(atlanta_corpus, removeWords, stopwords("english"))
atlanta_corpus <- tm_map(atlanta_corpus, stripWhitespace)
atlanta_corpus <- tm_map(atlanta_corpus, content_transformer(tolower))
#atlanta_corpus <- tm_map(atlanta_corpus, removePunctuation) so I can detect C#, C++
for (i in seq(length(find))) {
atlanta_corpus <- tm_map(atlanta_corpus, content_transformer(function(atlanta_corpus) gsub(atlanta_corpus, pattern = find[i], replacement = repl[i])))
}
atlanta_corpus <- tm_map(atlanta_corpus, removePunctuation) ###########
#build document_term dataframe#
document_term <- DocumentTermMatrix(atlanta_corpus)
document_term <- document_term %>%
as.matrix() %>%
as.data.frame()
#Find members of ds_skills_list in colnames(document_term)#
##PROBLEM: R is not in colnames(document_term)
ds_skills_in_document_term <- cbind(ds_skills_list, ds_skills_list %in% colnames(document_term))
ds_skills_in_document_term <- as.data.frame(ds_skills_in_document_term)
ds_skills_in_document_term <- ds_skills_in_document_term %>%
filter(V2 == "TRUE")
#build ds_skills_df dataframe#
ds_skills_df <- document_term %>%
select(ds_skills_in_document_term$ds_skills_list)
#tidy ds_skills_df#
ds_skills_df <- rownames_to_column(ds_skills_df)
ds_skills_df <- rename(ds_skills_df, "listing" = "rowname")
ds_skills_df <- ds_skills_df %>%
mutate("listing" = substr(listing,0,nchar(listing)-4))
View(ds_skills_df)
library(tidyverse)
library(tm)
atlanta <- "C:/Users/dmosc/OneDrive/Documents/academic/CUNY SPS/DATA 607/Proj3/zachsfr project three/Data-607-Project-Three/atlanta"
find <- c("computer science","data engineering","deep learning","machine learning","neural networks","project management","[[:space:]][Rr][^[[:alnum:]]","scikit-learn","software development","software engineering")
repl <- c("computerscience","dataengineering","deeplearning","machinelearning","neuralnetworks","projectmanagement"," rrrr","scikitlearn","softwaredevelopment","softwareengineering")
ds_skills_list <- c("ai","analysis","aws","azure","c","caffe","cassandra","communication","computerscience","cplusplus","csharp","d3","dataengineering","deeplearning","docker","excel","git","hadoop","hbase","hive","java","javascript","keras","linux","machinelearning","mathematics","matlab","mongodb","mysql","neuralnetworks","nlp","nosql","numpy","pandas","perl","pig","projectmanagement","python","pytorch"," rrrr","sas","scala","scikitlearn","softwaredevelopment","softwareengineering","spark","spss","sql","statistics","tableau","tensorflow","visualization")
#Create corpus from Atlanta files#
atlanta_corpus <- VCorpus(DirSource(atlanta, encoding = "UTF-8"), readerControl = list(language = "en"))
#transform corpus#
atlanta_corpus <- tm_map(atlanta_corpus, removeWords, stopwords("english"))
atlanta_corpus <- tm_map(atlanta_corpus, stripWhitespace)
atlanta_corpus <- tm_map(atlanta_corpus, content_transformer(tolower))
#atlanta_corpus <- tm_map(atlanta_corpus, removePunctuation) so I can detect C#, C++
for (i in seq(length(find))) {
atlanta_corpus <- tm_map(atlanta_corpus, content_transformer(function(atlanta_corpus) gsub(atlanta_corpus, pattern = find[i], replacement = repl[i])))
}
atlanta_corpus <- tm_map(atlanta_corpus, removePunctuation) ###########
#build document_term dataframe#
document_term <- DocumentTermMatrix(atlanta_corpus)
document_term <- document_term %>%
as.matrix() %>%
as.data.frame()
#Find members of ds_skills_list in colnames(document_term)#
##PROBLEM: R is not in colnames(document_term)
ds_skills_in_document_term <- cbind(ds_skills_list, ds_skills_list %in% colnames(document_term))
ds_skills_in_document_term <- as.data.frame(ds_skills_in_document_term)
ds_skills_in_document_term <- ds_skills_in_document_term %>%
filter(V2 == "TRUE")
#build ds_skills_df dataframe#
ds_skills_df <- document_term %>%
select(ds_skills_in_document_term$ds_skills_list)
#tidy ds_skills_df#
ds_skills_df <- rownames_to_column(ds_skills_df)
ds_skills_df <- rename(ds_skills_df, "listing" = "rowname")
ds_skills_df <- ds_skills_df %>%
mutate("listing" = substr(listing,0,nchar(listing)-4))
####
atlanta <- "C:/Users/dmosc/OneDrive/Documents/academic/CUNY SPS/DATA 607/Proj3/zachsfr project three/Data-607-Project-Three/atlanta"
find <- c("computer science","data engineering","deep learning","machine learning","neural networks","project management","[[:space:]][Rr][^[[:alnum:]]","scikit-learn","software development","software engineering")
repl <- c("computerscience","dataengineering","deeplearning","machinelearning","neuralnetworks","projectmanagement","rrrr ","scikitlearn","softwaredevelopment","softwareengineering")
ds_skills_list <- c("ai","analysis","aws","azure","c","caffe","cassandra","communication","computerscience","cplusplus","csharp","d3","dataengineering","deeplearning","docker","excel","git","hadoop","hbase","hive","java","javascript","keras","linux","machinelearning","mathematics","matlab","mongodb","mysql","neuralnetworks","nlp","nosql","numpy","pandas","perl","pig","projectmanagement","python","pytorch","rrrr ","sas","scala","scikitlearn","softwaredevelopment","softwareengineering","spark","spss","sql","statistics","tableau","tensorflow","visualization")
#Create corpus from Atlanta files#
atlanta_corpus <- VCorpus(DirSource(atlanta, encoding = "UTF-8"), readerControl = list(language = "en"))
#transform corpus#
atlanta_corpus <- tm_map(atlanta_corpus, removeWords, stopwords("english"))
atlanta_corpus <- tm_map(atlanta_corpus, stripWhitespace)
atlanta_corpus <- tm_map(atlanta_corpus, content_transformer(tolower))
#atlanta_corpus <- tm_map(atlanta_corpus, removePunctuation) so I can detect C#, C++
for (i in seq(length(find))) {
atlanta_corpus <- tm_map(atlanta_corpus, content_transformer(function(atlanta_corpus) gsub(atlanta_corpus, pattern = find[i], replacement = repl[i])))
}
atlanta_corpus <- tm_map(atlanta_corpus, removePunctuation) ###########
#build document_term dataframe#
document_term <- DocumentTermMatrix(atlanta_corpus)
document_term <- document_term %>%
as.matrix() %>%
as.data.frame()
#Find members of ds_skills_list in colnames(document_term)#
##PROBLEM: R is not in colnames(document_term)
ds_skills_in_document_term <- cbind(ds_skills_list, ds_skills_list %in% colnames(document_term))
ds_skills_in_document_term <- as.data.frame(ds_skills_in_document_term)
ds_skills_in_document_term <- ds_skills_in_document_term %>%
filter(V2 == "TRUE")
#build ds_skills_df dataframe#
ds_skills_df <- document_term %>%
select(ds_skills_in_document_term$ds_skills_list)
#tidy ds_skills_df#
ds_skills_df <- rownames_to_column(ds_skills_df)
ds_skills_df <- rename(ds_skills_df, "listing" = "rowname")
ds_skills_df <- ds_skills_df %>%
mutate("listing" = substr(listing,0,nchar(listing)-4))
####
atlanta <- "C:/Users/dmosc/OneDrive/Documents/academic/CUNY SPS/DATA 607/Proj3/zachsfr project three/Data-607-Project-Three/atlanta"
find <- c("computer science","data engineering","deep learning","machine learning","neural networks","project management","[[:space:]][Rr][^[[:alnum:]]","scikit-learn","software development","software engineering")
repl <- c("computerscience","dataengineering","deeplearning","machinelearning","neuralnetworks","projectmanagement"," rrrr ","scikitlearn","softwaredevelopment","softwareengineering")
ds_skills_list <- c("ai","analysis","aws","azure","c","caffe","cassandra","communication","computerscience","cplusplus","csharp","d3","dataengineering","deeplearning","docker","excel","git","hadoop","hbase","hive","java","javascript","keras","linux","machinelearning","mathematics","matlab","mongodb","mysql","neuralnetworks","nlp","nosql","numpy","pandas","perl","pig","projectmanagement","python","pytorch","rrrr","sas","scala","scikitlearn","softwaredevelopment","softwareengineering","spark","spss","sql","statistics","tableau","tensorflow","visualization")
#Create corpus from Atlanta files#
atlanta_corpus <- VCorpus(DirSource(atlanta, encoding = "UTF-8"), readerControl = list(language = "en"))
#transform corpus#
atlanta_corpus <- tm_map(atlanta_corpus, removeWords, stopwords("english"))
atlanta_corpus <- tm_map(atlanta_corpus, stripWhitespace)
atlanta_corpus <- tm_map(atlanta_corpus, content_transformer(tolower))
#atlanta_corpus <- tm_map(atlanta_corpus, removePunctuation) so I can detect C#, C++
for (i in seq(length(find))) {
atlanta_corpus <- tm_map(atlanta_corpus, content_transformer(function(atlanta_corpus) gsub(atlanta_corpus, pattern = find[i], replacement = repl[i])))
}
atlanta_corpus <- tm_map(atlanta_corpus, removePunctuation) ###########
#build document_term dataframe#
document_term <- DocumentTermMatrix(atlanta_corpus)
document_term <- document_term %>%
as.matrix() %>%
as.data.frame()
#Find members of ds_skills_list in colnames(document_term)#
##PROBLEM: R is not in colnames(document_term)
ds_skills_in_document_term <- cbind(ds_skills_list, ds_skills_list %in% colnames(document_term))
ds_skills_in_document_term <- as.data.frame(ds_skills_in_document_term)
ds_skills_in_document_term <- ds_skills_in_document_term %>%
filter(V2 == "TRUE")
#build ds_skills_df dataframe#
ds_skills_df <- document_term %>%
select(ds_skills_in_document_term$ds_skills_list)
#tidy ds_skills_df#
ds_skills_df <- rownames_to_column(ds_skills_df)
ds_skills_df <- rename(ds_skills_df, "listing" = "rowname")
ds_skills_df <- ds_skills_df %>%
mutate("listing" = substr(listing,0,nchar(listing)-4))
####
View(ds_skills_df)
rrrr == ds_skills_df$rrrr
atlanta <- "C:/Users/dmosc/OneDrive/Documents/academic/CUNY SPS/DATA 607/Proj3/zachsfr project three/Data-607-Project-Three/atlanta"
find <- c("computer science","data engineering","deep learning","machine learning","neural networks","project management","[[:space:]][Rr][^[[:alnum:]]","scikit-learn","software development","software engineering")
repl <- c("computerscience","dataengineering","deeplearning","machinelearning","neuralnetworks","projectmanagement"," rrrr","scikitlearn","softwaredevelopment","softwareengineering")
ds_skills_list <- c("ai","analysis","aws","azure","c","caffe","cassandra","communication","computerscience","cplusplus","csharp","d3","dataengineering","deeplearning","docker","excel","git","hadoop","hbase","hive","java","javascript","keras","linux","machinelearning","mathematics","matlab","mongodb","mysql","neuralnetworks","nlp","nosql","numpy","pandas","perl","pig","projectmanagement","python","pytorch","rrrr","sas","scala","scikitlearn","softwaredevelopment","softwareengineering","spark","spss","sql","statistics","tableau","tensorflow","visualization")
#Create corpus from Atlanta files#
atlanta_corpus <- VCorpus(DirSource(atlanta, encoding = "UTF-8"), readerControl = list(language = "en"))
#transform corpus#
atlanta_corpus <- tm_map(atlanta_corpus, removeWords, stopwords("english"))
atlanta_corpus <- tm_map(atlanta_corpus, stripWhitespace)
atlanta_corpus <- tm_map(atlanta_corpus, content_transformer(tolower))
#atlanta_corpus <- tm_map(atlanta_corpus, removePunctuation) so I can detect C#, C++
for (i in seq(length(find))) {
atlanta_corpus <- tm_map(atlanta_corpus, content_transformer(function(atlanta_corpus) gsub(atlanta_corpus, pattern = find[i], replacement = repl[i])))
}
atlanta_corpus <- tm_map(atlanta_corpus, removePunctuation) ###########
#build document_term dataframe#
document_term <- DocumentTermMatrix(atlanta_corpus)
document_term <- document_term %>%
as.matrix() %>%
as.data.frame()
#Find members of ds_skills_list in colnames(document_term)#
##PROBLEM: R is not in colnames(document_term)
ds_skills_in_document_term <- cbind(ds_skills_list, ds_skills_list %in% colnames(document_term))
ds_skills_in_document_term <- as.data.frame(ds_skills_in_document_term)
ds_skills_in_document_term <- ds_skills_in_document_term %>%
filter(V2 == "TRUE")
#build ds_skills_df dataframe#
ds_skills_df <- document_term %>%
select(ds_skills_in_document_term$ds_skills_list)
#tidy ds_skills_df#
ds_skills_df <- rownames_to_column(ds_skills_df)
ds_skills_df <- rename(ds_skills_df, "listing" = "rowname")
ds_skills_df <- ds_skills_df %>%
mutate("listing" = substr(listing,0,nchar(listing)-4))
rrrr == ds_skills_df$rrrr
resR <- gsub(l108, pattern = "[[:space:]][Rr][^[[:alnum:]]", replacement = " RrRr",)
resR
resR <- gsub(test_string, pattern = "[[:space:]][Rr][^[[:alnum:]]", replacement = " RrRr",)
resR
test_string <- "Some of the things I would like to learn are C#, C++, and maybe a little R, What I don't want to learn about are canteloupe and rarefaction."
resR <- gsub(test_string, pattern = "[[:space:]][Rr][^[[:alnum:]]", replacement = " RrRr",)
resR
rescsharp <- gsub(test_string, pattern = "[[:space:]][Cc]\\#", replacement = " chsarp")
rescsharp
rescsharp <- gsub(test_string, pattern = "[[:space:]][Cc]\\#", replacement = " csharp")
rescsharp
rescplusplus <- gsub(test_string, pattern = "[[:space:]][Cc]\\+\\+", replacement = " cplusplus")
rescplusplus
#210323 0911: Trying to resolve inability to detect C#, C++. Plan: detect C#, C++ before removing punctuation. Then detect R after removing punctuation.
#This script takes atlanta, a folder of txt job descriptions for data scientists. It generates ds_skills_df, a dataframe. ds_skills_df has 1 row for each job listing in atlanta, and one column for each term in ds_skills_list. The value in each cell is the number of appearances of the column name in the listing.
library(tidyverse)
library(tm)
atlanta <- "C:/Users/dmosc/OneDrive/Documents/academic/CUNY SPS/DATA 607/Proj3/zachsfr project three/Data-607-Project-Three/atlanta"
find <- c("[[:space:]][Cc]\\#","computer science","data engineering","deep learning","machine learning","neural networks","project management","[[:space:]][Rr][^[[:alnum:]]","scikit-learn","software development","software engineering")
repl <- c("chsarp","computerscience","dataengineering","deeplearning","machinelearning","neuralnetworks","projectmanagement"," rrrr","scikitlearn","softwaredevelopment","softwareengineering")
ds_skills_list <- c("ai","analysis","aws","azure","c","caffe","cassandra","communication","computerscience","cplusplus","csharp","d3","dataengineering","deeplearning","docker","excel","git","hadoop","hbase","hive","java","javascript","keras","linux","machinelearning","mathematics","matlab","mongodb","mysql","neuralnetworks","nlp","nosql","numpy","pandas","perl","pig","projectmanagement","python","pytorch","rrrr","sas","scala","scikitlearn","softwaredevelopment","softwareengineering","spark","spss","sql","statistics","tableau","tensorflow","visualization")
#Create corpus from Atlanta files#
atlanta_corpus <- VCorpus(DirSource(atlanta, encoding = "UTF-8"), readerControl = list(language = "en"))
#transform corpus#
atlanta_corpus <- tm_map(atlanta_corpus, removeWords, stopwords("english"))
atlanta_corpus <- tm_map(atlanta_corpus, stripWhitespace)
atlanta_corpus <- tm_map(atlanta_corpus, content_transformer(tolower))
#atlanta_corpus <- tm_map(atlanta_corpus, removePunctuation) so I can detect C#, C++
for (i in seq(length(find))) {
atlanta_corpus <- tm_map(atlanta_corpus, content_transformer(function(atlanta_corpus) gsub(atlanta_corpus, pattern = find[i], replacement = repl[i])))
}
atlanta_corpus <- tm_map(atlanta_corpus, removePunctuation) ###########
#build document_term dataframe#
document_term <- DocumentTermMatrix(atlanta_corpus)
document_term <- document_term %>%
as.matrix() %>%
as.data.frame()
#Find members of ds_skills_list in colnames(document_term)#
##PROBLEM: R is not in colnames(document_term)
ds_skills_in_document_term <- cbind(ds_skills_list, ds_skills_list %in% colnames(document_term))
ds_skills_in_document_term <- as.data.frame(ds_skills_in_document_term)
ds_skills_in_document_term <- ds_skills_in_document_term %>%
filter(V2 == "TRUE")
#build ds_skills_df dataframe#
ds_skills_df <- document_term %>%
select(ds_skills_in_document_term$ds_skills_list)
#tidy ds_skills_df#
ds_skills_df <- rownames_to_column(ds_skills_df)
ds_skills_df <- rename(ds_skills_df, "listing" = "rowname")
ds_skills_df <- ds_skills_df %>%
mutate("listing" = substr(listing,0,nchar(listing)-4))
View(ds_skills_df)
#210323 0911: Trying to resolve inability to detect C#, C++. Plan: detect C#, C++ before removing punctuation. Then detect R after removing punctuation.
#This script takes atlanta, a folder of txt job descriptions for data scientists. It generates ds_skills_df, a dataframe. ds_skills_df has 1 row for each job listing in atlanta, and one column for each term in ds_skills_list. The value in each cell is the number of appearances of the column name in the listing.
library(tidyverse)
library(tm)
atlanta <- "C:/Users/dmosc/OneDrive/Documents/academic/CUNY SPS/DATA 607/Proj3/zachsfr project three/Data-607-Project-Three/atlanta"
find <- c("[[:space:]][Cc]\\#","computer science","data engineering","deep learning","machine learning","neural networks","project management","[[:space:]][Rr][^[[:alnum:]]","scikit-learn","software development","software engineering")
repl <- c(" chsarp","computerscience","dataengineering","deeplearning","machinelearning","neuralnetworks","projectmanagement"," rrrr","scikitlearn","softwaredevelopment","softwareengineering")
ds_skills_list <- c("ai","analysis","aws","azure","c","caffe","cassandra","communication","computerscience","cplusplus","csharp","d3","dataengineering","deeplearning","docker","excel","git","hadoop","hbase","hive","java","javascript","keras","linux","machinelearning","mathematics","matlab","mongodb","mysql","neuralnetworks","nlp","nosql","numpy","pandas","perl","pig","projectmanagement","python","pytorch","rrrr","sas","scala","scikitlearn","softwaredevelopment","softwareengineering","spark","spss","sql","statistics","tableau","tensorflow","visualization")
#Create corpus from Atlanta files#
atlanta_corpus <- VCorpus(DirSource(atlanta, encoding = "UTF-8"), readerControl = list(language = "en"))
#transform corpus#
atlanta_corpus <- tm_map(atlanta_corpus, removeWords, stopwords("english"))
atlanta_corpus <- tm_map(atlanta_corpus, stripWhitespace)
atlanta_corpus <- tm_map(atlanta_corpus, content_transformer(tolower))
#atlanta_corpus <- tm_map(atlanta_corpus, removePunctuation) so I can detect C#, C++
for (i in seq(length(find))) {
atlanta_corpus <- tm_map(atlanta_corpus, content_transformer(function(atlanta_corpus) gsub(atlanta_corpus, pattern = find[i], replacement = repl[i])))
}
atlanta_corpus <- tm_map(atlanta_corpus, removePunctuation) ###########
#build document_term dataframe#
document_term <- DocumentTermMatrix(atlanta_corpus)
document_term <- document_term %>%
as.matrix() %>%
as.data.frame()
#Find members of ds_skills_list in colnames(document_term)#
##PROBLEM: R is not in colnames(document_term)
ds_skills_in_document_term <- cbind(ds_skills_list, ds_skills_list %in% colnames(document_term))
ds_skills_in_document_term <- as.data.frame(ds_skills_in_document_term)
ds_skills_in_document_term <- ds_skills_in_document_term %>%
filter(V2 == "TRUE")
#build ds_skills_df dataframe#
ds_skills_df <- document_term %>%
select(ds_skills_in_document_term$ds_skills_list)
#tidy ds_skills_df#
ds_skills_df <- rownames_to_column(ds_skills_df)
ds_skills_df <- rename(ds_skills_df, "listing" = "rowname")
ds_skills_df <- ds_skills_df %>%
mutate("listing" = substr(listing,0,nchar(listing)-4))
atlanta <- "C:/Users/dmosc/OneDrive/Documents/academic/CUNY SPS/DATA 607/Proj3/zachsfr project three/Data-607-Project-Three/atlanta"
find <- c("[[:space:]][Cc]\\#","computer science","data engineering","deep learning","machine learning","neural networks","project management","[[:space:]][Rr][^[[:alnum:]]","scikit-learn","software development","software engineering")
repl <- c(" csharp","computerscience","dataengineering","deeplearning","machinelearning","neuralnetworks","projectmanagement"," rrrr","scikitlearn","softwaredevelopment","softwareengineering")
ds_skills_list <- c("ai","analysis","aws","azure","c","caffe","cassandra","communication","computerscience","cplusplus","csharp","d3","dataengineering","deeplearning","docker","excel","git","hadoop","hbase","hive","java","javascript","keras","linux","machinelearning","mathematics","matlab","mongodb","mysql","neuralnetworks","nlp","nosql","numpy","pandas","perl","pig","projectmanagement","python","pytorch","rrrr","sas","scala","scikitlearn","softwaredevelopment","softwareengineering","spark","spss","sql","statistics","tableau","tensorflow","visualization")
#Create corpus from Atlanta files#
atlanta_corpus <- VCorpus(DirSource(atlanta, encoding = "UTF-8"), readerControl = list(language = "en"))
#transform corpus#
atlanta_corpus <- tm_map(atlanta_corpus, removeWords, stopwords("english"))
atlanta_corpus <- tm_map(atlanta_corpus, stripWhitespace)
atlanta_corpus <- tm_map(atlanta_corpus, content_transformer(tolower))
#atlanta_corpus <- tm_map(atlanta_corpus, removePunctuation) so I can detect C#, C++
for (i in seq(length(find))) {
atlanta_corpus <- tm_map(atlanta_corpus, content_transformer(function(atlanta_corpus) gsub(atlanta_corpus, pattern = find[i], replacement = repl[i])))
}
atlanta_corpus <- tm_map(atlanta_corpus, removePunctuation) ###########
#build document_term dataframe#
document_term <- DocumentTermMatrix(atlanta_corpus)
document_term <- document_term %>%
as.matrix() %>%
as.data.frame()
#Find members of ds_skills_list in colnames(document_term)#
##PROBLEM: R is not in colnames(document_term)
ds_skills_in_document_term <- cbind(ds_skills_list, ds_skills_list %in% colnames(document_term))
ds_skills_in_document_term <- as.data.frame(ds_skills_in_document_term)
ds_skills_in_document_term <- ds_skills_in_document_term %>%
filter(V2 == "TRUE")
#build ds_skills_df dataframe#
ds_skills_df <- document_term %>%
select(ds_skills_in_document_term$ds_skills_list)
#tidy ds_skills_df#
ds_skills_df <- rownames_to_column(ds_skills_df)
ds_skills_df <- rename(ds_skills_df, "listing" = "rowname")
ds_skills_df <- ds_skills_df %>%
mutate("listing" = substr(listing,0,nchar(listing)-4))
View(ds_skills_df)
rrrr <- ds_skills_df$rrrr
csharp <- ds_skills_df$csharp
atlanta <- "C:/Users/dmosc/OneDrive/Documents/academic/CUNY SPS/DATA 607/Proj3/zachsfr project three/Data-607-Project-Three/atlanta"
find <- c("[^[[:alnum:]][Cc]\\#","computer science","data engineering","deep learning","machine learning","neural networks","project management","[^[[:alnum:]][Rr][^[[:alnum:]]","scikit-learn","software development","software engineering")
repl <- c(" csharp","computerscience","dataengineering","deeplearning","machinelearning","neuralnetworks","projectmanagement"," rrrr","scikitlearn","softwaredevelopment","softwareengineering")
ds_skills_list <- c("ai","analysis","aws","azure","c","caffe","cassandra","communication","computerscience","cplusplus","csharp","d3","dataengineering","deeplearning","docker","excel","git","hadoop","hbase","hive","java","javascript","keras","linux","machinelearning","mathematics","matlab","mongodb","mysql","neuralnetworks","nlp","nosql","numpy","pandas","perl","pig","projectmanagement","python","pytorch","rrrr","sas","scala","scikitlearn","softwaredevelopment","softwareengineering","spark","spss","sql","statistics","tableau","tensorflow","visualization")
#Create corpus from Atlanta files#
atlanta_corpus <- VCorpus(DirSource(atlanta, encoding = "UTF-8"), readerControl = list(language = "en"))
#transform corpus#
atlanta_corpus <- tm_map(atlanta_corpus, removeWords, stopwords("english"))
atlanta_corpus <- tm_map(atlanta_corpus, stripWhitespace)
atlanta_corpus <- tm_map(atlanta_corpus, content_transformer(tolower))
#atlanta_corpus <- tm_map(atlanta_corpus, removePunctuation) so I can detect C#, C++
for (i in seq(length(find))) {
atlanta_corpus <- tm_map(atlanta_corpus, content_transformer(function(atlanta_corpus) gsub(atlanta_corpus, pattern = find[i], replacement = repl[i])))
}
atlanta_corpus <- tm_map(atlanta_corpus, removePunctuation) ###########
#build document_term dataframe#
document_term <- DocumentTermMatrix(atlanta_corpus)
document_term <- document_term %>%
as.matrix() %>%
as.data.frame()
#Find members of ds_skills_list in colnames(document_term)#
##PROBLEM: R is not in colnames(document_term)
ds_skills_in_document_term <- cbind(ds_skills_list, ds_skills_list %in% colnames(document_term))
ds_skills_in_document_term <- as.data.frame(ds_skills_in_document_term)
ds_skills_in_document_term <- ds_skills_in_document_term %>%
filter(V2 == "TRUE")
#build ds_skills_df dataframe#
ds_skills_df <- document_term %>%
select(ds_skills_in_document_term$ds_skills_list)
#tidy ds_skills_df#
ds_skills_df <- rownames_to_column(ds_skills_df)
ds_skills_df <- rename(ds_skills_df, "listing" = "rowname")
ds_skills_df <- ds_skills_df %>%
mutate("listing" = substr(listing,0,nchar(listing)-4))
csharp == ds_skills_df$csharp
rrrr == ds_skills_df$rrrr
rescplusplus <- gsub(test_string, pattern = "[^[[:alnum:]][Cc]\\+\\+", replacement = " cplusplus")
rescplusplus
test_string <- "Some of the things I would like to learn are C#, C++, and maybe a little R, What I don't want to learn about are canteloupe and rarefaction."
rescplusplus <- gsub(test_string, pattern = "[^[[:alnum:]][Cc]\\+\\+", replacement = " cplusplus")
rescplusplus
#210323 0911: Trying to resolve inability to detect C#, C++. Plan: detect C#, C++ before removing punctuation. Then detect R after removing punctuation.
#This script takes atlanta, a folder of txt job descriptions for data scientists. It generates ds_skills_df, a dataframe. ds_skills_df has 1 row for each job listing in atlanta, and one column for each term in ds_skills_list. The value in each cell is the number of appearances of the column name in the listing.
library(tidyverse)
library(tm)
atlanta <- "C:/Users/dmosc/OneDrive/Documents/academic/CUNY SPS/DATA 607/Proj3/zachsfr project three/Data-607-Project-Three/atlanta"
find <- c("[^[[:alnum:]][Cc]\\#","[^[[:alnum:]][Cc]\\+\\+","computer science","data engineering","deep learning","machine learning","neural networks","project management","[^[[:alnum:]][Rr][^[[:alnum:]]","scikit-learn","software development","software engineering")
repl <- c(" csharp","cplusplus","computerscience","dataengineering","deeplearning","machinelearning","neuralnetworks","projectmanagement"," rrrr","scikitlearn","softwaredevelopment","softwareengineering")
ds_skills_list <- c("ai","analysis","aws","azure","c","caffe","cassandra","communication","computerscience","cplusplus","csharp","d3","dataengineering","deeplearning","docker","excel","git","hadoop","hbase","hive","java","javascript","keras","linux","machinelearning","mathematics","matlab","mongodb","mysql","neuralnetworks","nlp","nosql","numpy","pandas","perl","pig","projectmanagement","python","pytorch","rrrr","sas","scala","scikitlearn","softwaredevelopment","softwareengineering","spark","spss","sql","statistics","tableau","tensorflow","visualization")
#Create corpus from Atlanta files#
atlanta_corpus <- VCorpus(DirSource(atlanta, encoding = "UTF-8"), readerControl = list(language = "en"))
#transform corpus#
atlanta_corpus <- tm_map(atlanta_corpus, removeWords, stopwords("english"))
atlanta_corpus <- tm_map(atlanta_corpus, stripWhitespace)
atlanta_corpus <- tm_map(atlanta_corpus, content_transformer(tolower))
#atlanta_corpus <- tm_map(atlanta_corpus, removePunctuation) so I can detect C#, C++
for (i in seq(length(find))) {
atlanta_corpus <- tm_map(atlanta_corpus, content_transformer(function(atlanta_corpus) gsub(atlanta_corpus, pattern = find[i], replacement = repl[i])))
}
atlanta_corpus <- tm_map(atlanta_corpus, removePunctuation) ###########
#build document_term dataframe#
document_term <- DocumentTermMatrix(atlanta_corpus)
document_term <- document_term %>%
as.matrix() %>%
as.data.frame()
#Find members of ds_skills_list in colnames(document_term)#
##PROBLEM: R is not in colnames(document_term)
ds_skills_in_document_term <- cbind(ds_skills_list, ds_skills_list %in% colnames(document_term))
ds_skills_in_document_term <- as.data.frame(ds_skills_in_document_term)
ds_skills_in_document_term <- ds_skills_in_document_term %>%
filter(V2 == "TRUE")
#build ds_skills_df dataframe#
ds_skills_df <- document_term %>%
select(ds_skills_in_document_term$ds_skills_list)
#tidy ds_skills_df#
ds_skills_df <- rownames_to_column(ds_skills_df)
ds_skills_df <- rename(ds_skills_df, "listing" = "rowname")
ds_skills_df <- ds_skills_df %>%
mutate("listing" = substr(listing,0,nchar(listing)-4))
View(ds_skills_df)
#210323 0911: Trying to resolve inability to detect C#, C++. Plan: detect C#, C++ before removing punctuation. Then detect R after removing punctuation.
#This script takes atlanta, a folder of txt job descriptions for data scientists. It generates ds_skills_df, a dataframe. ds_skills_df has 1 row for each job listing in atlanta, and one column for each term in ds_skills_list. The value in each cell is the number of appearances of the column name in the listing.
library(tidyverse)
library(tm)
atlanta <- "C:/Users/dmosc/OneDrive/Documents/academic/CUNY SPS/DATA 607/Proj3/zachsfr project three/Data-607-Project-Three/atlanta"
find <- c("[^[[:alnum:]][Cc]\\#","[^[[:alnum:]][Cc]\\+\\+","computer science","data engineering","deep learning","machine learning","neural networks","project management","[^[[:alnum:]][Rr][^[[:alnum:]]","scikit-learn","software development","software engineering")
repl <- c(" csharp"," cplusplus","computerscience","dataengineering","deeplearning","machinelearning","neuralnetworks","projectmanagement"," rrrr","scikitlearn","softwaredevelopment","softwareengineering")
ds_skills_list <- c("ai","analysis","aws","azure","c","caffe","cassandra","communication","computerscience","cplusplus","csharp","d3","dataengineering","deeplearning","docker","excel","git","hadoop","hbase","hive","java","javascript","keras","linux","machinelearning","mathematics","matlab","mongodb","mysql","neuralnetworks","nlp","nosql","numpy","pandas","perl","pig","projectmanagement","python","pytorch","rrrr","sas","scala","scikitlearn","softwaredevelopment","softwareengineering","spark","spss","sql","statistics","tableau","tensorflow","visualization")
#Create corpus from Atlanta files#
atlanta_corpus <- VCorpus(DirSource(atlanta, encoding = "UTF-8"), readerControl = list(language = "en"))
#transform corpus#
atlanta_corpus <- tm_map(atlanta_corpus, removeWords, stopwords("english"))
atlanta_corpus <- tm_map(atlanta_corpus, stripWhitespace)
atlanta_corpus <- tm_map(atlanta_corpus, content_transformer(tolower))
#atlanta_corpus <- tm_map(atlanta_corpus, removePunctuation) so I can detect C#, C++
for (i in seq(length(find))) {
atlanta_corpus <- tm_map(atlanta_corpus, content_transformer(function(atlanta_corpus) gsub(atlanta_corpus, pattern = find[i], replacement = repl[i])))
}
atlanta_corpus <- tm_map(atlanta_corpus, removePunctuation) ###########
#build document_term dataframe#
document_term <- DocumentTermMatrix(atlanta_corpus)
document_term <- document_term %>%
as.matrix() %>%
as.data.frame()
#Find members of ds_skills_list in colnames(document_term)#
##PROBLEM: R is not in colnames(document_term)
ds_skills_in_document_term <- cbind(ds_skills_list, ds_skills_list %in% colnames(document_term))
ds_skills_in_document_term <- as.data.frame(ds_skills_in_document_term)
ds_skills_in_document_term <- ds_skills_in_document_term %>%
filter(V2 == "TRUE")
#build ds_skills_df dataframe#
ds_skills_df <- document_term %>%
select(ds_skills_in_document_term$ds_skills_list)
#tidy ds_skills_df#
ds_skills_df <- rownames_to_column(ds_skills_df)
ds_skills_df <- rename(ds_skills_df, "listing" = "rowname")
ds_skills_df <- ds_skills_df %>%
mutate("listing" = substr(listing,0,nchar(listing)-4))
View(ds_skills_df)
